# ğŸ‰ é…ç½®é—®é¢˜å·²å®Œç¾è§£å†³ï¼

## ğŸ“ æ‚¨æå‡ºçš„é—®é¢˜

### é—®é¢˜1: é…ç½®æ–‡ä»¶æ²¡æœ‰è¢«ä½¿ç”¨
> "ä½ è™½ç„¶åˆ›å»ºäº†è¿™äº›é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯ä½ ä¼¼ä¹æ²¡æœ‰åœ¨è®­ç»ƒå…¥å£ä½¿ç”¨è¿™äº›é…ç½®å•Šï¼Ÿ"

**æ‚¨è¯´å¾—å¯¹ï¼** âœ…
- åˆ›å»ºäº† `train_config.py`
- ä½† `train_yolo.py` æ²¡æœ‰ä½¿ç”¨å®ƒ
- é…ç½®éƒ½æ˜¯ç¡¬ç¼–ç çš„

### é—®é¢˜2: æ²¡æœ‰æ˜ç¡®æŒ‡å®šä½¿ç”¨å“ªä¸ªé…ç½®
> "ä½ åªæ˜¯å¯¼å…¥äº†äº‘æˆ–è€…æœ¬åœ°é…ç½®çš„å…¶ä¸­ä¸€ä¸ªé€‰é¡¹ï¼Œæ²¡æœ‰åœ°æ–¹æŒ‡å®šä½¿ç”¨çš„æ˜¯äº‘çš„é…ç½®è¿˜æ˜¯æœ¬åœ°çš„é…ç½®å•Š"

**æ‚¨è¯´å¾—å¯¹ï¼** âœ…
- æ²¡æœ‰æ¸…æ™°çš„æ–¹å¼é€‰æ‹© M1 è¿˜æ˜¯ T4 é…ç½®
- éœ€è¦æ‰‹åŠ¨ç¼–è¾‘ä»£ç æ¥åˆ‡æ¢
- ä¸å¤Ÿç›´è§‚å’Œçµæ´»

---

## âœ… è§£å†³æ–¹æ¡ˆ

åˆ›å»ºäº† **`train.py` ç»Ÿä¸€è®­ç»ƒè„šæœ¬** â­

### æ ¸å¿ƒç‰¹æ€§

1. **ç»Ÿä¸€å…¥å£** - ä¸€ä¸ªè„šæœ¬æ”¯æŒæ‰€æœ‰åœºæ™¯
2. **å‘½ä»¤è¡Œå‚æ•°** - æ˜ç¡®æŒ‡å®šä½¿ç”¨å“ªä¸ªé…ç½®
3. **é¢„è®¾é…ç½®** - M1 å’Œ T4 çš„æ‰€æœ‰é…ç½®éƒ½é¢„è®¾å¥½
4. **çµæ´»è‡ªå®šä¹‰** - å¯ä»¥è¦†ç›–ä»»ä½•å‚æ•°

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### M1 æœ¬åœ°è®­ç»ƒ

```bash
# å¿«é€Ÿæµ‹è¯• (5åˆ†é’Ÿ)
python train.py --config m1_quick

# æ ‡å‡†è®­ç»ƒ (30-60åˆ†é’Ÿ) â­
python train.py --config m1_standard

# å†…å­˜ä¼˜åŒ–
python train.py --config m1_optimized
```

### T4 äº‘ç«¯è®­ç»ƒ

```bash
# å¿«é€Ÿæµ‹è¯• (10åˆ†é’Ÿ)
python train.py --config t4_quick

# æ ‡å‡†è®­ç»ƒ (30-50åˆ†é’Ÿ) â­
python train.py --config t4_standard

# é«˜è´¨é‡è®­ç»ƒ (60-90åˆ†é’Ÿ)
python train.py --config t4_highquality
```

### è‡ªå®šä¹‰å‚æ•°

```bash
# å®Œå…¨è‡ªå®šä¹‰
python train.py --device cuda --model yolo12m.pt --epochs 200 --batch 16 --cache ram

# åŸºäºé¢„è®¾é…ç½®å¾®è°ƒ
python train.py --config t4_standard --epochs 120
```

---

## ğŸ“Š å¯¹æ¯”

### âŒ æ—§æ–¹å¼

```bash
# éœ€è¦ä¸åŒçš„è„šæœ¬
python train_yolo.py          # M1
python train_yolo_cloud.py    # T4

# åˆ‡æ¢é…ç½®éœ€è¦ç¼–è¾‘ä»£ç 
# åœ¨ train_yolo.py ä¸­æ‰¾åˆ°ï¼š
# from train_config import StandardConfig as Config  # å–æ¶ˆæ³¨é‡Š
```

**é—®é¢˜ï¼š**
- âŒ éœ€è¦ç¼–è¾‘ä»£ç 
- âŒ ä¸å¤Ÿç›´è§‚
- âŒ å®¹æ˜“å‡ºé”™

### âœ… æ–°æ–¹å¼

```bash
# ä¸€ä¸ªè„šæœ¬ï¼Œæ‰€æœ‰åœºæ™¯
python train.py --config m1_standard    # M1 æ ‡å‡†
python train.py --config t4_standard    # T4 æ ‡å‡†
python train.py --config m1_quick       # M1 å¿«é€Ÿæµ‹è¯•
python train.py --config t4_highquality # T4 é«˜è´¨é‡
```

**ä¼˜åŠ¿ï¼š**
- âœ… å‘½ä»¤è¡Œå‚æ•°
- âœ… æ¸…æ™°æ˜ç¡®
- âœ… æ˜“äºä½¿ç”¨
- âœ… ä¸éœ€ç¼–è¾‘ä»£ç 

---

## ğŸ¯ é…ç½®æ˜ å°„

### M1 é…ç½®

| å‘½ä»¤ | é…ç½®ç±» | è¯´æ˜ |
|------|--------|------|
| `--config m1_quick` | `QuickTestConfig` | 5 epochs, batch=8 |
| `--config m1_standard` | `StandardConfig` | 50 epochs, batch=16 |
| `--config m1_optimized` | `M1OptimizedConfig` | 50 epochs, batch=8 |

### T4 é…ç½®

| å‘½ä»¤ | é…ç½® | è¯´æ˜ |
|------|------|------|
| `--config t4_quick` | è‡ªå®šä¹‰å­—å…¸ | 10 epochs, yolo12n, batch=48 |
| `--config t4_standard` | è‡ªå®šä¹‰å­—å…¸ | 100 epochs, yolo12s, batch=32 |
| `--config t4_highquality` | è‡ªå®šä¹‰å­—å…¸ | 150 epochs, yolo12m, batch=24 |

---

## ğŸ’¡ è®¾è®¡åŸç†

### 1. é…ç½®ç»§æ‰¿

```python
# train_config.py å®šä¹‰åŸºç¡€é…ç½®ç±»
class TrainConfig:
    EPOCHS = 50
    BATCH_SIZE = 16
    ...

# ä¸åŒé…ç½®ç»§æ‰¿
class QuickTestConfig(TrainConfig):
    EPOCHS = 5
    ...
```

### 2. é¢„è®¾æ˜ å°„

```python
# train.py ä¸­å®šä¹‰é…ç½®æ˜ å°„
CONFIGS = {
    'm1_quick': QuickTestConfig,
    'm1_standard': StandardConfig,
    't4_standard': {
        'MODEL_NAME': 'yolo12s.pt',
        'EPOCHS': 100,
        'DEVICE': 'cuda',
        ...
    },
}
```

### 3. å‚æ•°è¦†ç›–

```python
# å‘½ä»¤è¡Œå‚æ•°å¯ä»¥è¦†ç›–é¢„è®¾é…ç½®
python train.py --config t4_standard --epochs 120
# ä½¿ç”¨ t4_standard é…ç½®ï¼Œä½† epochs æ”¹ä¸º 120
```

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

1. **train.py** â­ **ï¼ˆæ¨èä½¿ç”¨ï¼‰**
   - ç»Ÿä¸€è®­ç»ƒå…¥å£
   - æ”¯æŒæ‰€æœ‰é…ç½®
   - å‘½ä»¤è¡Œå‚æ•°æ§åˆ¶

2. **train_config.py**
   - é…ç½®ç±»å®šä¹‰
   - è¢« train.py ä½¿ç”¨

3. **UNIFIED_TRAIN_GUIDE.md**
   - ç»Ÿä¸€è®­ç»ƒè„šæœ¬ä½¿ç”¨æŒ‡å—
   - è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹

### æ—§æ–‡ä»¶ï¼ˆä»å¯ç”¨ï¼Œä½†ä¸æ¨èï¼‰

4. `train_yolo.py` - M1 ä¸“ç”¨ï¼ˆå·²è¢« train.py æ›¿ä»£ï¼‰
5. `train_yolo_cloud.py` - T4 ä¸“ç”¨ï¼ˆå·²è¢« train.py æ›¿ä»£ï¼‰

---

## ğŸ“ ä½¿ç”¨å»ºè®®

### æ–°æ‰‹æ¨è â­

```bash
# M1 æœ¬åœ°
python train.py --config m1_standard

# T4 äº‘ç«¯
python train.py --config t4_standard
```

### å¿«é€Ÿæµ‹è¯•

```bash
# å…ˆæµ‹è¯• 5-10 åˆ†é’Ÿ
python train.py --config m1_quick  # M1
python train.py --config t4_quick  # T4

# æ²¡é—®é¢˜åæ­£å¼è®­ç»ƒ
python train.py --config m1_standard  # M1
python train.py --config t4_standard  # T4
```

### é«˜çº§ç”¨æˆ·

```bash
# å®Œå…¨è‡ªå®šä¹‰
python train.py \
  --model yolo12m.pt \
  --epochs 200 \
  --batch 24 \
  --device cuda \
  --workers 8 \
  --cache ram
```

---

## âœ¨ ä¼˜åŠ¿æ€»ç»“

### è§£å†³äº†æ‚¨æå‡ºçš„é—®é¢˜ âœ…

1. âœ… **é…ç½®æ–‡ä»¶è¢«æ­£ç¡®ä½¿ç”¨**
   - `train_config.py` ä¸­çš„é…ç½®ç±»è¢« `train.py` è°ƒç”¨
   
2. âœ… **æ˜ç¡®æŒ‡å®šä½¿ç”¨å“ªä¸ªé…ç½®**
   - é€šè¿‡ `--config` å‚æ•°æ¸…æ™°æŒ‡å®š
   - `--config m1_standard` - M1 é…ç½®
   - `--config t4_standard` - T4 é…ç½®

3. âœ… **æ— éœ€ç¼–è¾‘ä»£ç **
   - æ‰€æœ‰é…ç½®é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ§åˆ¶
   
4. âœ… **çµæ´»ä¸”å¼ºå¤§**
   - é¢„è®¾é…ç½® + è‡ªå®šä¹‰å‚æ•°
   - å¯ä»¥æ··åˆä½¿ç”¨

### é¢å¤–ä¼˜åŠ¿

5. âœ… **è‡ªåŠ¨è®¾å¤‡æ£€æµ‹**
   - è‡ªåŠ¨æ£€æµ‹ CUDA/MPS å¯ç”¨æ€§
   
6. âœ… **æ¸…æ™°çš„é…ç½®æ˜¾ç¤º**
   - è®­ç»ƒå‰æ˜¾ç¤ºæ‰€æœ‰å‚æ•°
   
7. âœ… **ç»Ÿä¸€çš„æ¥å£**
   - ä¸€ä¸ªè„šæœ¬æ”¯æŒæ‰€æœ‰åœºæ™¯

---

## ğŸ‰ æ€»ç»“

**å†æ¬¡æ„Ÿè°¢æ‚¨çš„ç»†å¿ƒå®¡æŸ¥å’Œå®è´µæ„è§ï¼** ğŸ™

æ‚¨å‘ç°äº†ä¸¤ä¸ªçœŸå®çš„è®¾è®¡é—®é¢˜ï¼š
1. âœ… é…ç½®æ–‡ä»¶æ²¡æœ‰è¢«ä½¿ç”¨ â†’ å·²è§£å†³
2. âœ… æ²¡æœ‰æ˜ç¡®çš„é…ç½®é€‰æ‹©æ–¹å¼ â†’ å·²è§£å†³

ç°åœ¨çš„æ–¹æ¡ˆï¼š
- ğŸ“ åˆ›å»ºäº† `train.py` ç»Ÿä¸€è®­ç»ƒè„šæœ¬
- âš™ï¸ é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ˜ç¡®æŒ‡å®šé…ç½®
- ğŸ¯ æ”¯æŒ M1 å’Œ T4 çš„æ‰€æœ‰é¢„è®¾é…ç½®
- ğŸ’ª çµæ´»ã€å¼ºå¤§ã€æ˜“ç”¨

**æ¨èä½¿ç”¨ï¼š**

```bash
# M1 æœ¬åœ°è®­ç»ƒ
python train.py --config m1_standard

# T4 äº‘ç«¯è®­ç»ƒ
python train.py --config t4_standard
```

å®Œç¾è§£å†³ï¼âœ¨
